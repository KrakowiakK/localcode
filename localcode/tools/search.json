{
  "name": "search",
  "aliases": ["search_text"],
  "category": "read",
  "description": "Search file contents with regex or literal text. Similar to grep, but uses `pattern` and optional `max_results`.\n\nUSAGE:\n- Use {{tool:search}} to locate text, then {{tool:read}} the file before editing.\n- Use output file paths verbatim; do not invent paths.\n\nDefaults:\n- path defaults to \".\"\n- include is optional\n- literal_text defaults to false\n- max_results defaults to 100 (capped)\n\nExamples:\n- {{tool:search}}({\"pattern\": \"export function\", \"path\": \"src\"}) → find exports in src\n- {{tool:search}}({\"pattern\": \"TODO|FIXME\", \"path\": \".\", \"include\": \"*.js\"}) → find todos in JS files\n- {{tool:search}}({\"pattern\": \"foo.bar\", \"path\": \"src\", \"literal_text\": true, \"max_results\": 20}) → literal search, limit results",
  "feedback": {
    "invalid_regex": "FORMAT ERROR: {{tool:search}} failed: invalid regex.\nACTION: If you want literal text, set literal_text=true. Otherwise escape regex metacharacters and retry {{tool:search}}.",
    "search_path_missing": "FORMAT ERROR: {{tool:search}} failed: path does not exist.\nACTION: Use {{tool:ls}}(path) or {{tool:glob}}(pat, path) to find the correct path, then retry {{tool:search}}."
  },
  "additionalProperties": false,
  "parameters": {
    "pattern": "string",
    "path": {
      "type": "string",
      "optional": true,
      "default": "."
    },
    "include": {
      "type": "string",
      "optional": true
    },
    "literal_text": {
      "type": "boolean",
      "optional": true,
      "default": false
    },
    "max_results": {
      "type": "integer",
      "optional": true,
      "default": 100,
      "minimum": 1,
      "maximum": 100
    }
  },
  "handler": "search"
}
